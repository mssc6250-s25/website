<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">
<meta name="author" content="Dr.&nbsp;Cheng-Han Yu   Department of Mathematical and Statistical Sciences   Marquette University">
<title>MSSC 6250 - Spring 2025 - Dimension Reduction r fontawesome::fa("layer-group")</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
<link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
<link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
<style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
<link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css">
<link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
<link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
<link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
<link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
<style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
<style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
<meta property="og:title" content="MSSC 6250 - Spring 2025 - Dimension Reduction r fontawesome::fa(&quot;layer-group&quot;)">
<meta property="og:description" content="MSSC 6250 Statistical Machine Learning">
<meta property="og:site_name" content="MSSC 6250 - Spring 2025">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="#447099" class="quarto-title-block center"><h1 class="title">Dimension Reduction <svg aria-hidden="true" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M264.5 5.2c14.9-6.9 32.1-6.9 47 0l218.6 101c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 149.8C37.4 145.8 32 137.3 32 128s5.4-17.9 13.9-21.8L264.5 5.2zM476.9 209.6l53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 277.8C37.4 273.8 32 265.3 32 256s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0l152-70.2zm-152 198.2l152-70.2 53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 405.8C37.4 401.8 32 393.3 32 384s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0z"></path></svg>
</h1>
  <p class="subtitle">MSSC 6250 Statistical Machine Learning</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Dr.&nbsp;Cheng-Han Yu <br> Department of Mathematical and Statistical Sciences <br> Marquette University 
</div>
</div>
</div>

</section><section><section id="unsupervised-learning" class="title-slide slide level1 center"><h1>Unsupervised Learning</h1>

</section><section id="unsupervised-learning-1" class="slide level2"><h2>Unsupervised Learning</h2>
<ul>
<li><p><em>Supervised Learning</em>: response <span class="math inline">\(Y\)</span> and features <span class="math inline">\(X_1, X_2, \dots, X_p\)</span> measured on <span class="math inline">\(n\)</span> observations.</p></li>
<li>
<p><em>Unsupervised Learning</em>: only features <span class="math inline">\(X_1, X_2, \dots, X_p\)</span> measured on <span class="math inline">\(n\)</span> observations.</p>
<ul>
<li>Not interested in prediction (no response to be predicted)</li>
<li>Discover any interesting pattern or relationships among these features.</li>
</ul>
</li>
</ul>
<div class="fragment">
<ul>
<li>Estimate the <span class="green">density, covariance, graph (network)</span>, etc. of <span class="math inline">\(\mathbf{X}\)</span>
</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>
<span class="green"><strong>Dimension reduction</strong></span> for effective data visualization or extracting most important information those features contain.
<ul>
<li><span style="color:blue">plot a bunch of points of <span class="math inline">\(\boldsymbol{x} = (x_1, x_2, \dots, x_p)\)</span> in a 2-D scatter plot (manifold). (reduce dimension from <span class="math inline">\(p\)</span> to 2)</span></li>
<li><span style="color:blue"> use 2 variables to explain most variations or represents high data density in the <span class="math inline">\(p\)</span> variables </span></li>
</ul>
</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>
<span class="green"><strong>Clustering</strong></span> discovers unknown subgroups/clusters in data
<ul>
<li><span style="color:blue">find 3 sub-groups of people based on variables income, occupation, age, etc</span></li>
</ul>
</li>
</ul>
</div>
</section></section><section><section id="background-dimensions" class="title-slide slide level1 center"><h1>Background: Dimensions</h1>

</section><section id="one-dimension-1d-number-line" class="slide level2"><h2>One-Dimension (1D) Number line</h2>
<div class="columns">
<div class="column" style="width:30%;">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource my_class600 number-lines code-with-copy"><code class="sourceCode"><span id="cb1-1"><a></a># A tibble: 50 × 1</span>
<span id="cb1-2"><a></a>   English</span>
<span id="cb1-3"><a></a>     &lt;int&gt;</span>
<span id="cb1-4"><a></a> 1      41</span>
<span id="cb1-5"><a></a> 2      65</span>
<span id="cb1-6"><a></a> 3      55</span>
<span id="cb1-7"><a></a> 4      94</span>
<span id="cb1-8"><a></a> 5      66</span>
<span id="cb1-9"><a></a> 6      85</span>
<span id="cb1-10"><a></a> 7      44</span>
<span id="cb1-11"><a></a> 8      44</span>
<span id="cb1-12"><a></a> 9      67</span>
<span id="cb1-13"><a></a>10      73</span>
<span id="cb1-14"><a></a># ℹ 40 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:70%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/unnamed-chunk-3-1.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>Let’s go back to your first grade. You remember that one-dimension equals a number line.</li>
<li>Now suppose we have 50 English grades. The first 3 scores are 41, 65, and 55.</li>
<li>We can plot these values on the number line just like we did in the elementary school.</li>
<li>1st student with score 41 it’s a dot at 41, 2nd student with score 65, it’s a dot at 65, and so on.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="one-dimension-1d-number-line-uniform-students" class="slide level2"><h2>One-Dimension (1D) Number line: Uniform students</h2>
<div class="columns">
<div class="column" style="width:30%;">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource my_class600 number-lines code-with-copy"><code class="sourceCode"><span id="cb2-1"><a></a># A tibble: 50 × 1</span>
<span id="cb2-2"><a></a>   English</span>
<span id="cb2-3"><a></a>     &lt;int&gt;</span>
<span id="cb2-4"><a></a> 1      41</span>
<span id="cb2-5"><a></a> 2      65</span>
<span id="cb2-6"><a></a> 3      55</span>
<span id="cb2-7"><a></a> 4      94</span>
<span id="cb2-8"><a></a> 5      66</span>
<span id="cb2-9"><a></a> 6      85</span>
<span id="cb2-10"><a></a> 7      44</span>
<span id="cb2-11"><a></a> 8      44</span>
<span id="cb2-12"><a></a> 9      67</span>
<span id="cb2-13"><a></a>10      73</span>
<span id="cb2-14"><a></a># ℹ 40 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:70%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/unnamed-chunk-5-1.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>If you plot all students scores, we might see something like this: an uniform distribution of English scores.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="d-number-line-non-uniform-students" class="slide level2"><h2>1D Number line: Non-uniform students</h2>
<div class="columns">
<div class="column" style="width:30%;">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource my_class600 number-lines code-with-copy"><code class="sourceCode"><span id="cb3-1"><a></a># A tibble: 50 × 1</span>
<span id="cb3-2"><a></a>   English</span>
<span id="cb3-3"><a></a>     &lt;int&gt;</span>
<span id="cb3-4"><a></a> 1      77</span>
<span id="cb3-5"><a></a> 2      78</span>
<span id="cb3-6"><a></a> 3      81</span>
<span id="cb3-7"><a></a> 4      78</span>
<span id="cb3-8"><a></a> 5      52</span>
<span id="cb3-9"><a></a> 6      62</span>
<span id="cb3-10"><a></a> 7      47</span>
<span id="cb3-11"><a></a> 8      58</span>
<span id="cb3-12"><a></a> 9      43</span>
<span id="cb3-13"><a></a>10      59</span>
<span id="cb3-14"><a></a># ℹ 40 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:70%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/unnamed-chunk-7-1.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>Or we might get a non-uniform distribution of English scores. Some students obtain a very high grade, but some students are falling behind and get a very low grade.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="two-dimensions-2d-x-y-scatter-plot-high-correlated" class="slide level2"><h2>Two-Dimensions (2D) X-Y Scatter plot: High Correlated</h2>
<p>English and Math measure an overall academic performance.</p>
<div class="columns">
<div class="column" style="width:30%;">
<div class="cell" data-layout-align="center" data-highlight.output="4">
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource my_class600 number-lines code-with-copy"><code class="sourceCode"><span id="cb4-1"><a></a># A tibble: 50 × 2</span>
<span id="cb4-2"><a></a>   English  Math</span>
<span id="cb4-3"><a></a>     &lt;int&gt; &lt;dbl&gt;</span>
<span id="cb4-4"><a></a> 1      41  33.2</span>
<span id="cb4-5"><a></a> 2      65  63.6</span>
<span id="cb4-6"><a></a> 3      55  44.6</span>
<span id="cb4-7"><a></a> 4      94  95  </span>
<span id="cb4-8"><a></a> 5      66  65.6</span>
<span id="cb4-9"><a></a> 6      85  73.1</span>
<span id="cb4-10"><a></a> 7      44  46.6</span>
<span id="cb4-11"><a></a> 8      44  51  </span>
<span id="cb4-12"><a></a> 9      67  69.4</span>
<span id="cb4-13"><a></a>10      73  66.5</span>
<span id="cb4-14"><a></a># ℹ 40 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:70%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/unnamed-chunk-9-1.png" class="quarto-figure quarto-figure-center" style="width:65.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>Now let’s go to sixth grade when we learned about 2 dimensional graphs.</li>
<li>Now we have two axes instead of one, and now we can plot data from two different subjects instead of just one.</li>
<li>Additional to English scores, here we also have Math scores of some students.</li>
<li>And we all know how to map a English and math score pair to a point on a 2D plot.</li>
<li>If we put all students English and Math scores on the plot, we might see something like this that English and Math scores are positively correlated, meaning that a student having high English score tends to have high Math score too.</li>
<li>This might be due to the fact that English and Math measure an overall academic performance. A good student tends to have both high English and Math scores.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="two-dimensions-2d-x-y-scatter-plot-no-correlated" class="slide level2"><h2>Two-Dimensions (2D) X-Y Scatter plot: No correlated</h2>
<p>English and Math measure different abilities.</p>
<div class="columns">
<div class="column" style="width:30%;">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource my_class600 number-lines code-with-copy"><code class="sourceCode"><span id="cb5-1"><a></a># A tibble: 50 × 2</span>
<span id="cb5-2"><a></a>   English  Math</span>
<span id="cb5-3"><a></a>     &lt;int&gt; &lt;int&gt;</span>
<span id="cb5-4"><a></a> 1      41    27</span>
<span id="cb5-5"><a></a> 2      65    47</span>
<span id="cb5-6"><a></a> 3      55    32</span>
<span id="cb5-7"><a></a> 4      94    44</span>
<span id="cb5-8"><a></a> 5      66    20</span>
<span id="cb5-9"><a></a> 6      85    30</span>
<span id="cb5-10"><a></a> 7      44    16</span>
<span id="cb5-11"><a></a> 8      44    72</span>
<span id="cb5-12"><a></a> 9      67    86</span>
<span id="cb5-13"><a></a>10      73    82</span>
<span id="cb5-14"><a></a># ℹ 40 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:70%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/unnamed-chunk-11-1.png" class="quarto-figure quarto-figure-center" style="width:65.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>Or we might see English and Math scores are not correlated, meaning that a high English score does not tell us anything about Math score, whether it is high or low.</li>
<li>Because English and Math might measure different abilities.</li>
<li>English measures verbal and communication skills and Math measures logic and quantitative skills</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="three-dimensions-3d-x-y-z-scatter-plot" class="slide level2"><h2>Three-Dimensions (3D) X-Y-Z Scatter plot</h2>
<div class="columns">
<div class="column" style="width:35%;">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource my_class600 number-lines code-with-copy"><code class="sourceCode"><span id="cb6-1"><a></a># A tibble: 50 × 3</span>
<span id="cb6-2"><a></a>   English  Math Biology</span>
<span id="cb6-3"><a></a>     &lt;int&gt; &lt;dbl&gt;   &lt;dbl&gt;</span>
<span id="cb6-4"><a></a> 1      41  33.2    39.2</span>
<span id="cb6-5"><a></a> 2      65  63.6    61.6</span>
<span id="cb6-6"><a></a> 3      55  44.6    41.6</span>
<span id="cb6-7"><a></a> 4      94  95      92  </span>
<span id="cb6-8"><a></a> 5      66  65.6    73.6</span>
<span id="cb6-9"><a></a> 6      85  73.1    71.1</span>
<span id="cb6-10"><a></a> 7      44  46.6    56.6</span>
<span id="cb6-11"><a></a> 8      44  51      56  </span>
<span id="cb6-12"><a></a> 9      67  69.4    79.4</span>
<span id="cb6-13"><a></a>10      73  66.5    59.5</span>
<span id="cb6-14"><a></a># ℹ 40 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:65%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/unnamed-chunk-13-1.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>OK. Now maybe in college, we started drawing 3D graph, having height, width and depth.</li>
<li>With 3 separate axes, we can now plot data from three different subjects.</li>
<li>So now we have three subjects, English, Math and Biology.</li>
<li>With the same logic as 2D plot, we put English score on X-axis, Math score on Y-axis, and biology score on Z-axis, then draw lines perpendicular to each axis to put the point in the 3D space.</li>
<li>And this is our 3D scatter plot.</li>
<li>So, if we have one subject data, we can make a 1D graph.</li>
<li>If we have two subject data, we can make a 2D graph.</li>
<li>If we have three subject data, we can make a 3D graph.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="four-dimension-4d-x-y-z--scatter-plot" class="slide level2"><h2>Four-Dimension (4D) X-Y-Z-? Scatter plot</h2>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource my_class600 number-lines code-with-copy"><code class="sourceCode"><span id="cb7-1"><a></a># A tibble: 50 × 4</span>
<span id="cb7-2"><a></a>   English  Math Biology History</span>
<span id="cb7-3"><a></a>     &lt;int&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span>
<span id="cb7-4"><a></a> 1      41  33.2    39.2      51</span>
<span id="cb7-5"><a></a> 2      65  63.6    61.6      53</span>
<span id="cb7-6"><a></a> 3      55  44.6    41.6      63</span>
<span id="cb7-7"><a></a> 4      94  95      92        83</span>
<span id="cb7-8"><a></a> 5      66  65.6    73.6      51</span>
<span id="cb7-9"><a></a> 6      85  73.1    71.1      74</span>
<span id="cb7-10"><a></a> 7      44  46.6    56.6      34</span>
<span id="cb7-11"><a></a> 8      44  51      56        33</span>
<span id="cb7-12"><a></a> 9      67  69.4    79.4      76</span>
<span id="cb7-13"><a></a>10      73  66.5    59.5      74</span>
<span id="cb7-14"><a></a># ℹ 40 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:55%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/unnamed-chunk-15-1.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>But what happens if we have data from 4 academic subjects?? here English, Math, Biology and History.</li>
<li>Well we need 4D graph. The problem is You can’t draw a 4D plot on paper!</li>
<li>What if a student has 20 different grades from 20 different courses?? We need a 20 dimensional graph?</li>
<li>But what is that?? There is no way we can draw that.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="how-about-pair-plots" class="slide level2"><h2>How about Pair Plots?</h2>

<img data-src="images/15-pca/unnamed-chunk-16-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:100.0%"><aside class="notes"><ul>
<li>Plotting all 2-D scatter plots of all possible pairs might be a solution to check the relationship between variables, or exploratory data analysis.</li>
<li>Like here we see basically any two variables or two subject scores are positively correlated.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="tooooo-many-pair-plots" class="slide level2"><h2>Tooooo Many Pair Plots!</h2>
<ul>
<li>If we have <span class="math inline">\(p\)</span> variables, there are <span class="math inline">\({p \choose 2} = p(p-1)/2\)</span> pairs.</li>
<li>If <span class="math inline">\(p = 10\)</span>, we have 45 such scatter plots to look at!</li>
<li>In practice, we may encounter over 100 variables!!</li>
</ul>
<aside class="notes"><ul>
<li>But still, there is a problem.</li>
<li>If you have <span class="math inline">\(p\)</span> variables, you are gonna have <span class="math inline">\({p \choose 2} = p(p-1)/2\)</span> pairs.</li>
<li>If <span class="math inline">\(p = 10\)</span>, you have 45 such scatter plots to look at!</li>
<li>Not to mention that in real data science work, you may encounter over 100 variables!!</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="dimension-reduction" class="slide level2"><h2>Dimension Reduction</h2>
<ul>
<li><p>One variable represents one <strong>dimension</strong>.</p></li>
<li><p>With many variables in the data, we live in a <strong>high dimensional</strong> world.</p></li>
</ul>
<div class="fragment">
<p>GOAL:</p>
<ul>
<li><p>Find a <em>low-dimensional</em> (usually 2D) representation of the data that captures <span class="green"><em>as much of the information all of those variables provide as possible</em></span>.</p></li>
<li><p>Use two <span class="green"><em>created</em></span> variables to represent all <span class="math inline">\(p\)</span> variables, and make a scatter plot of the two created variables to learn what our observations look like as if they lived in the high dimensional space. <!-- - But why and when can we omit dimensions? --></p></li>
</ul>
</div>
<div class="fragment">
<div class="question">
<p>Why and when can we omit dimensions?</p>
</div>
<aside class="notes"><ul>
<li>So in order to meaningfully represent the relationship of all variables, we need a technique, Dimension Reduction.</li>
<li>In mathematics, One variable represents one <strong>dimension</strong>, so with many variables in the data, we live in a <strong>high dimensional</strong> world.</li>
<li>We would like to find a <em>low-dimensional</em> (usually 2D) representation of the data that captures as much of the information all of those variables provide as possible.</li>
<li>We use two <em>created</em> variables to represent all <span class="math inline">\(p\)</span> variables, and make a scatter plot of the two created variables to learn what our observations look like as if they lived in the high dimensional space.</li>
<li>Of course, it’s not always a good idea to just use two variables to represent all <span class="math inline">\(p\)</span> variables. Some information will be missing when we just use two variables to represent or explain all the relationships of <span class="math inline">\(p\)</span> variables.</li>
<li>But sometimes, a <em>low-dimensional</em> representation looks very like a <strong>high dimensional</strong> space, and does not lose much information. In this situation, a <em>low-dimensional</em> representation is very useful.</li>
<li>So Let’s see why and when can we omit dimensions?</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section><section id="variation-mostly-from-one-variable" class="slide level2"><h2>Variation mostly from One Variable</h2>
<ul>
<li>Almost all of the variation in the data is from left to right.</li>
</ul>

<img data-src="images/15-pca/unnamed-chunk-17-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:75.0%"><aside class="notes"><ul>
<li>Let’s suppose we have two variables, and their data look like this.</li>
<li>Here we see almost all of the variation in the data from left to right.</li>
<li>It means that for variable X, some observations have low values, and some observations have high values.</li>
<li>But it looks like all observations have variable Y at about the same level.</li>
<li>Since X varies more than Y, having larger variation, X contains more information than Y in the data.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="variation-mostly-from-one-variable-1" class="slide level2"><h2>Variation mostly from One Variable</h2>
<ul>
<li>If we flattened the data, the graph would not look much different.</li>
</ul>

<img data-src="images/15-pca/unnamed-chunk-18-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:75.0%"><aside class="notes"><ul>
<li>If we flattened the data, removing the up and down variation, our graph would not look much different from what it look like before.</li>
<li>Most of the variation, or information is still kept in the data.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="variation-mostly-from-one-variable-2" class="slide level2"><h2>Variation mostly from One Variable</h2>
<ul>
<li>If we flattened the data, we could graph it with a 1D number line!</li>
</ul>

<img data-src="images/15-pca/unnamed-chunk-19-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:75.0%"><aside class="notes"><ul>
<li>Now, with up-and-down variation removed, the variable Y becomes redundant, and we can just represent the flattened data using 1D single number line. <!-- - If we flattened the data, we could just graph it with a 1D single number line! -->
</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="variation-mostly-from-one-variable-3" class="slide level2"><h2>Variation mostly from One Variable</h2>
<ul>
<li>Both graphs say <em>“the important variation is left to right.”</em>
</li>
</ul>

<img data-src="images/15-pca/unnamed-chunk-20-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:75.0%"><aside class="notes"><ul>
<li>So in this case, we can display 2D data on a 1D plot without losing too much information!</li>
<li>Both graphs say <em>“the important variation is left to right.”</em>
</li>
<li>Another example is watching TV. TV is a 2D thing, but we watch TV for 3D shows. The 2D TV represents the 3D shows, programs or drama very well because the 2D representation does not lose much information the 3D shows provide.</li>
<li>So through the example, we know some dimensions are more important than others. Like here Variable X is more important than variable Y because variable X explains most of the variation stored in the data.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section></section><section><section id="principal-component-analysis-pca" class="title-slide slide level1 center"><h1>Principal Component Analysis (PCA)</h1>

</section><section id="idea-of-pca" class="slide level2"><h2>Idea of PCA</h2>
<ul>
<li><p>PCA is a dimension reduction tool that finds a low-dimensional representation of a data set that contains as much as possible of <strong>variation</strong>.</p></li>
<li><p>Each observation lives in a high-dimensional space (lots of variables), but not all of these dimensions (variables) are equally <em>interesting/important</em>.</p></li>
<li><p>The concept of <em>interesting/important</em> is measured by the amount that the observations vary along each dimension.</p></li>
</ul>
<aside class="notes"><ul>
<li>PCA is a dimension reduction tool that finds a low-dimensional representation of a data set that contains as much as possible of <em>variation</em> stored in the data set.</li>
<li>As we’ve seen before, each of the observations lives in a high-dimensional space, meaning that each observation has lots of variables associated with it, but not all of these dimensions (variables) are equally <em>interesting/important</em>.</li>
<li>The concept of <em>interesting/important</em> is measured by the amount that the observations vary along each dimension.</li>
<li>A characteristic or attribute of observations is called variable because its value varies from sample to sample.</li>
<li>If the variable does not vary, it becomes an irrelevant or un-important variable because we cannot use the variable to differentiate or distinguish observations. If everyone in this class gets grade A, then the data science grade is not an important variable to learn which students perform academically better than others.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="pca-illustration-2-variable-example" class="slide level2"><h2>PCA Illustration: 2 Variable Example</h2>
<div class="columns">
<div class="column" style="width:30%;">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource my_classfull number-lines code-with-copy"><code class="sourceCode"><span id="cb8-1"><a></a># A tibble: 50 × 2</span>
<span id="cb8-2"><a></a>   English  Math</span>
<span id="cb8-3"><a></a>     &lt;int&gt; &lt;dbl&gt;</span>
<span id="cb8-4"><a></a> 1      41  33.2</span>
<span id="cb8-5"><a></a> 2      65  63.6</span>
<span id="cb8-6"><a></a> 3      55  44.6</span>
<span id="cb8-7"><a></a> 4      94  95  </span>
<span id="cb8-8"><a></a> 5      66  65.6</span>
<span id="cb8-9"><a></a> 6      85  73.1</span>
<span id="cb8-10"><a></a> 7      44  46.6</span>
<span id="cb8-11"><a></a> 8      44  51  </span>
<span id="cb8-12"><a></a> 9      67  69.4</span>
<span id="cb8-13"><a></a>10      73  66.5</span>
<span id="cb8-14"><a></a>11      47  58.9</span>
<span id="cb8-15"><a></a>12      66  66.5</span>
<span id="cb8-16"><a></a>13      57  51  </span>
<span id="cb8-17"><a></a>14      57  33.2</span>
<span id="cb8-18"><a></a>15      77  83.6</span>
<span id="cb8-19"><a></a>16      83  78.8</span>
<span id="cb8-20"><a></a># ℹ 34 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:70%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/unnamed-chunk-23-1.png" class="quarto-figure quarto-figure-center" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>We use the English and Math score example to illustrate how PCA works.</li>
<li>From the data, we have a 2D scatter plot like this.</li>
<li>With the data, we can have the average of English score and the average of math score, shown as the red squared point in the scatter plot.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="step-1-shift-or-standardize-the-data" class="slide level2"><h2>Step 1: Shift (or standardize) the Data</h2>
<ul>
<li>So the two variables have both mean 0. If the variables are measured in a different unit, consider standardization, <span class="math inline">\(\frac{x_i - \bar{x}}{s_x}\)</span>.</li>
<li>Shifting does not change how the data points are positioned <em>relative</em> to each other.</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/unnamed-chunk-24-1.png" class="quarto-figure quarto-figure-center" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/unnamed-chunk-25-1.png" class="quarto-figure quarto-figure-center" style="width:75.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>PCA first shift or standardize our data so that the center is on top of the origin (0, 0) in the graph.</li>
<li>If the two variables are measured in a different scale, standardization is highly recommended. Here because both English and Math scores are measured using the same scale. We only do the shifting, and no scaling.</li>
<li>After standardization, all variables will use the same scale to measure their variation, and that makes more sense because PCA wants to find some axis or coordinate lower dimensional representation that contains the most variation, and we don’t want the variation depends on variable’s measurement units.</li>
<li>Notice that Shifting does not change how the data points are positioned <em>relative</em> to each other. The scattering shape remains the same.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="step-2-find-a-line-that-fits-the-data-the-best" class="slide level2"><h2>Step 2: Find a Line that Fits the Data the Best</h2>
<ul>
<li>Start with a line <em>going through the origin</em>.</li>
<li>
<strong>Rotate</strong> the line until it fits the data as well as it can, given that it goes through the origin.</li>
</ul>

<img data-src="images/15-pca/unnamed-chunk-26-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:48.0%"><aside class="notes"><ul>
<li>The second step of PCA is going to fit a line to the centered or normalized data set. <!-- - Now that the data are centered on the origin, we can try to fit a line to it. -->
</li>
<li>To do this, we start by drawing a random line that goes through the origin.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="step-2-find-a-line-that-fits-the-data-the-best-1" class="slide level2"><h2>Step 2: Find a Line that Fits the Data the Best</h2>
<ul>
<li>Start with a line <em>going through the origin</em>.</li>
<li>
<strong>Rotate</strong> the line until it fits the data as well as it can, given that it goes through the origin.</li>
</ul>

<img data-src="images/15-pca/unnamed-chunk-27-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:48.0%"><aside class="notes"><ul>
<li>Then we rotate the line until if fits the data as well as it can, given that it has to go through the origin.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="step-2-find-a-line-that-fits-the-data-the-best-2" class="slide level2"><h2>Step 2: Find a Line that Fits the Data the Best</h2>
<ul>
<li>Start with a line <em>going through the origin</em>.</li>
<li>
<strong>Rotate</strong> the line until it fits the data as well as it can, given that it goes through the origin.</li>
</ul>

<img data-src="images/15-pca/unnamed-chunk-28-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:41.0%"><aside class="notes"><ul>
<li>Ultimately, this line fits best. <!-- - Last time we stopped here, we haven't learned what criterion makes the line the best fit. -->
</li>
<li>So let’s see what makes this line the best fit, and the meaning of this line. <!-- - But here, I jump to the conclusion too quickly. First we need to talk about how PCA decides if a fit is good or not. -->
</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="the-meaning-of-the-best-line" class="slide level2"><h2>The Meaning of the Best line</h2>
<div class="columns">
<div class="column" style="width:50%;">
<!-- - The line [*maximizes the variation of the projected points*]{.green}! -->
<ul>
<li><p><strong>Principal Component 1 (PC1)</strong>: <span class="green"><em>maximizes the variance of the projected points</em></span>.</p></li>
<li>
<p>PC1 is the line in the Eng-Math space that is <em>closest</em> to the <span class="math inline">\(n\)</span> observations</p>
<ul>
<li>PC1 <em>minimizes the sum of squared distances between the data points and the PC1.</em>
</li>
</ul>
</li>
<li><p><strong><span style="color:red">PC1 is the best 1D representation of the 2D data</span></strong></p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/unnamed-chunk-29-1.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>To quantify how good this line fits the data, PCA projects the data onto it.</li>
<li>Then the idea is that we can either measure the distances from the data to the line and try to find the line that minimizes those distances.</li>
<li>Or we can try to find the line that maximizes the distances from the projected points to the origin.</li>
<li>The two criteria are equivalent.</li>
<li>DEMO</li>
<li>So we are find the line that <strong>maximizes the variation of the projected points from the data points onto the line</strong>!</li>
<li>The best line is called <strong>Principal Component 1 (PC1)</strong>, which <strong>maximizes the sum of squared distances between projected points and the origin.</strong>
</li>
<li>Regression line: minimizes the sum of squared residuals (vertical lines from the data points to the line)</li>
<li>
<strong>Principal Component 1 (PC1)</strong>: maximizes the sum of squared distances between between projected points and the origin.</li>
<li>PC1 is the line in the Eng-Math 2 dimensional space that is <strong>closest</strong> to the <span class="math inline">\(n\)</span> observations, i.e., PC1 minimizes the sum of squared distances between the data points and the PC1.</li>
<li><strong><span style="color:red">PC1 is the best 1D representation of the 2D data</span></strong></li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="the-meaning-of-the-best-line-1" class="slide level2"><h2>The Meaning of the Best line</h2>
<div class="xsmall">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="./images/15-pca/pca.gif" style="width:100.0%"></p>
<figcaption>Source: https://stats.stackexchange.com/questions/2691/making-sense-of-principal-component-analysis-eigenvectors-eigenvalues</figcaption></figure>
</div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>I am going to conclude the idea of PCA using this gif.</li>
<li>This gif shows you the idea of finding principal components.</li>
<li>As the line rotates, you can see the locations of the projected points on the line keeps changing as well.</li>
<li>And the PC1 is the line that maximizes the variation of the projected points.</li>
<li>Also, the PC1 is the line that minimizes the distance between the data points and the line. In the figure, the sum of those red lines will be the smallest.</li>
<li>Questions?</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="pc1-and-pc2" class="slide level2"><h2>PC1 and PC2</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>The data points are also spread out a little above and below the PC1.</li>
<li>There are some variation that is not explained by the PC1.</li>
<li>Find the second PC, PC2, that
<ul>
<li>explains the remaining variation</li>
<li>is the line <em>through the origin and perpendicular to PC1</em>.</li>
</ul>
</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/unnamed-chunk-31-1.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>Along with the PC1, the data points are also spread out a little above and below the PC1.</li>
<li>There are some variation of the two variables that is not explained by the PC1.</li>
<li>To find another PC that explains the remaining variation, we find the second PC, called PC2 that is the line <strong>through the origin and perpendicular to PC1</strong>.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="linear-combinations" class="slide level2"><h2>Linear Combinations</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/unnamed-chunk-32-1.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<ul>
<li>PC1 = 0.68 <span class="math inline">\(\times\)</span> English <span class="math inline">\(+\)</span> 0.74 <span class="math inline">\(\times\)</span> Math</li>
<li>PC2 = 0.74 <span class="math inline">\(\times\)</span> English <span class="math inline">\(-\)</span> 0.68 <span class="math inline">\(\times\)</span> Math</li>
<li>PC1 is like an <strong>overall intelligence index</strong> as it is a <em>weighted</em> average combining verbal and quantitative abilities.</li>
<li>PC2 accounts for individual difference in English and Math scores.</li>
<li>
<span class="math inline">\(0.68^2 + 0.74^2 = 1\)</span> (Pythagorean theorem)</li>
<li>The combination weights 0.68, 0.74, etc are called PC <strong>loadings</strong>.</li>
</ul>
</div>
</div>
<aside class="notes"><ul>
<li>Now let’s look at PC1 and PC2 a little more carefully.</li>
<li>First PC1 and PC2 are just a vector in 2 dimensional space, right?</li>
<li>In other words, they are linear combinations of two standard basis, here our English axis and Math axis.</li>
<li>PCA help us get the linear combinations.</li>
<li>Here PC1 = 0.68 <span class="math inline">\(\times\)</span> English + 0.74 <span class="math inline">\(\times\)</span> Math</li>
<li>PC2 = 0.74 <span class="math inline">\(\times\)</span> English - 0.68 <span class="math inline">\(\times\)</span> Math</li>
<li>So to make PC1, we mix 0.68 part of English score with 0.74 parts of Math score.</li>
<li>One unit of PC1 consists of 0.68 parts of English and 0.74 parts of Math.</li>
<li>And because the weight of math score is a little bit larger, Math score is a little bit more important when it comes to describing how the data are spread out.</li>
<li>PC1 can be viewed as an <strong>overall intelligence index</strong> because it is an weighted average combining both verbal and quantitative reasoning abilities.</li>
<li>PC2 accounts for individual difference in English and Math scores.</li>
<li>
<span class="math inline">\(0.68^2 + 0.74^2 = 1\)</span> (Pythagorean theorem)</li>
<li>The combination weights 0.68, 0.74, etc are called <strong>loadings</strong> of PC. <!-- - (0.68, 0.74): e-vector of PC1. --> <!-- - One unit of PC1 consists of 0.68 parts of English and 0.74 parts of Math.  --> <!-- - One unit of PC2 consists of 0.74 parts of English and -0.68 parts of Math. -->
</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="rotate-everything-so-that-pc1-is-horizontal" class="slide level2"><h2>Rotate Everything so that PC1 is Horizontal</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>1D representation</strong></p>
<ul>
<li>PC1 is our 1D number line that explains the most variation contained in 2D data using a 1D line.</li>
<li>Points on the PC1 are the projected points of data onto PC1.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/unnamed-chunk-33-1.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><strong>2D representation</strong></p>
<ul>
<li>The new coordinates PC1 and PC2 are ordered by variation size of the English and Math scores</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/unnamed-chunk-34-1.png" class="quarto-figure quarto-figure-center" style="width:78.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>If we make PC1 and PC2 the new X-Y coordinates, the new coordinates PC1 and PC2 are ordered by variation size of the English and Math scores.</li>
<li>PC1 is our 1D number line that explains the most variation contained in 2D data using a 1D line.</li>
<li>Points on the PC1 are the projected points of data onto PC1.</li>
<li>PC1 explains the most variation, and PC2 explains the second most variation.</li>
<li>And PC2 explains the remaining variations that are not explained by PC1.</li>
<li>Here, because we only have 2 dimensions, we have at most 2 PCs.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="variation" class="slide level2"><h2>Variation</h2>
<!-- - Variance for PC1 $= \frac{\text{Sum of squared distances of projected points on PC1}}{n-1}$  -->
<!-- - Variance for PC2 $= \frac{\text{Sum of squared distances of projected points on PC2}}{n-1}$  -->
<ul>
<li><p>If the variation for PC1 is <span class="math inline">\(17\)</span> and the variation for PC2 is <span class="math inline">\(2\)</span>, the total variation presented in the data is <span class="math inline">\(17+2=19\)</span>.</p></li>
<li><p>PC1 accounts for <span class="math inline">\(17/19 = 89\%\)</span> of the total variation, and PC2 accounts for <span class="math inline">\(2/19 = 11\%\)</span> of the total variation.</p></li>
</ul>
<aside class="notes"><ul>
<li>OK how do we quantify variation. Let’s give it a definition.</li>
<li>Variation for PC1 <span class="math inline">\(= \frac{\text{Sum of squared distances of projected points on PC1}}{n-1}\)</span>
</li>
<li>Variation for PC2 <span class="math inline">\(= \frac{\text{Sum of squared distances of projected points on PC2}}{n-1}\)</span>
</li>
<li>If the variation for PC1 is <span class="math inline">\(17\)</span> and the variation for PC2 is <span class="math inline">\(2\)</span>, the total variation presented in the data is <span class="math inline">\(17+2=19\)</span>.</li>
<li>PC1 accounts for <span class="math inline">\(17/19 = 89\%\)</span> of the total variation, and PC2 accounts for <span class="math inline">\(2/19 = 11\%\)</span> of the total variation.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="how-about-3-or-more-variables" class="slide level2"><h2>How about 3 or More Variables?</h2>
<ul>
<li>PC1 spans the direction of the most variation</li>
</ul>
<div class="fragment">
<ul>
<li>PC2 spans the direction of the 2nd most variation</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>PC3 spans the direction of the 3rd most variation</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>PC4 spans the direction of the 4th most variation</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>If we have <span class="math inline">\(n\)</span> observations and <span class="math inline">\(p\)</span> variables (dimensions), there are at most <span class="math inline">\(\min(n - 1, p)\)</span> PCs.</li>
</ul>
<aside class="notes"><ul>
<li>OK. We use a 2D data to illustrate PCA. How about 3 or More Variables?</li>
<li>Well the idea of 2D data can be exactly applied to 3 or more dimensional data.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section><section id="us-arrest-data-in-1973" class="slide level2"><h2>US Arrest Data in 1973</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">USArrests</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 50  4</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center" data-highlight.output="1">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">USArrests</span>, <span class="fl">16</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource my_classfull number-lines code-with-copy"><code class="sourceCode"><span id="cb12-1"><a></a>            Murder Assault UrbanPop Rape</span>
<span id="cb12-2"><a></a>Alabama       13.2     236       58   21</span>
<span id="cb12-3"><a></a>Alaska        10.0     263       48   44</span>
<span id="cb12-4"><a></a>Arizona        8.1     294       80   31</span>
<span id="cb12-5"><a></a>Arkansas       8.8     190       50   20</span>
<span id="cb12-6"><a></a>California     9.0     276       91   41</span>
<span id="cb12-7"><a></a>Colorado       7.9     204       78   39</span>
<span id="cb12-8"><a></a>Connecticut    3.3     110       77   11</span>
<span id="cb12-9"><a></a>Delaware       5.9     238       72   16</span>
<span id="cb12-10"><a></a>Florida       15.4     335       80   32</span>
<span id="cb12-11"><a></a>Georgia       17.4     211       60   26</span>
<span id="cb12-12"><a></a>Hawaii         5.3      46       83   20</span>
<span id="cb12-13"><a></a>Idaho          2.6     120       54   14</span>
<span id="cb12-14"><a></a>Illinois      10.4     249       83   24</span>
<span id="cb12-15"><a></a>Indiana        7.2     113       65   21</span>
<span id="cb12-16"><a></a>Iowa           2.2      56       57   11</span>
<span id="cb12-17"><a></a>Kansas         6.0     115       66   18</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<aside class="notes"><ul>
<li>OK. Time to learn how to perform PCA in R.</li>
<li>The data set used for PCA is USArrests data set in 1973.</li>
<li>Each observation or subject is a state, and we have 4 features or dimensions, Murder, Assault, UrbanPop, and Rape.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="pc-loading-vectors-on-usarrests" class="slide level2"><h2>PC Loading Vectors on <code>USArrests</code>
</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pca_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/prcomp.html">prcomp</a></span><span class="op">(</span><span class="va">USArrests</span>, scale <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## rotation matrix provides PC loadings</span></span>
<span><span class="op">(</span><span class="va">pca_output</span><span class="op">$</span><span class="va">rotation</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="va">pca_output</span><span class="op">$</span><span class="va">rotation</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          PC1   PC2   PC3    PC4
Murder   0.54  0.42 -0.34 -0.649
Assault  0.58  0.19 -0.27  0.743
UrbanPop 0.28 -0.87 -0.38 -0.134
Rape     0.54 -0.17  0.82 -0.089</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li>PCs are unique up to a sign change, so <code>-pca_output$rotation</code> gives us the same PCs as <code>pca_output$rotation</code> does. The sign just change the direction, not the angle.</li>
</ul>
<p><span class="math inline">\(\text{PC1} = 0.54 \times \text{Murder} + 0.58 \times \text{Assault} + 0.28 \times \text{UrbanPop} + 0.54 \times \text{Rape}\)</span></p>
<p><br></p>
<p><span class="math inline">\(\text{PC2} = 0.42 \times \text{Murder} + 0.19 \times \text{Assault} - 0.87 \times \text{UrbanPop} - 0.17 \times \text{Rape}\)</span></p>
</div>
<div class="fragment">
<ul>
<li>We have 4 PCs because <span class="math inline">\(\min(n-1, p) = \min(50-1, 4) = 4\)</span>.</li>
</ul>
<aside class="notes"><ul>
<li>To perform PCA in R, it cannot be easier.</li>
<li>We just need to use the function prcomp(), and put the data set in the function. Then we get everything we want.</li>
<li>Here I choose to scale the data because variables are not measured in the same scale. For example, Murder rate and UrbanPop are measured in different units.</li>
<li>This makes sure that every variable has variance 1, and our analysis is not affected by units.</li>
<li>The PCA results are stored as a list in pca_output object.</li>
<li>OK first we can look at the rotation matrix because it provides PC loadings, and so we know what PC1 and PC2 are.</li>
<li>Changing signs for easier interpretation of PCs</li>
<li>Those PC loadings define how we rotates the coordinates to obtain the PCs. ???</li>
<li>Again, PC1 is just a linear combination or weighted average of the 4 variables, same as PC2. ???</li>
<li>Again, PC1 is just a linear combination or weighted average of the 4 variables, same as PC2.</li>
<li>PCs are unique up to a sign change, so <code>-pca_output$rotation</code> gives us the same PCs as <code>pca_output$rotation</code> does.</li>
<li>We have 4 PCs because <span class="math inline">\(\min(n-1, k) = \min(50-1, 4) = 4\)</span>.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section><section id="pc-scores" class="slide level2"><h2>PC Scores</h2>
<ul>
<li>The value of the <em>rotated</em> data, the data values of each PC are stored in <code>pca_output$x</code>
</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">pca_output</span><span class="op">$</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="va">pca_output</span><span class="op">$</span><span class="va">x</span>, <span class="fl">16</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource my_classfull number-lines code-with-copy"><code class="sourceCode"><span id="cb16-1"><a></a>              PC1   PC2   PC3   PC4</span>
<span id="cb16-2"><a></a>Alabama      0.98  1.12 -0.44 -0.15</span>
<span id="cb16-3"><a></a>Alaska       1.93  1.06  2.02  0.43</span>
<span id="cb16-4"><a></a>Arizona      1.75 -0.74  0.05  0.83</span>
<span id="cb16-5"><a></a>Arkansas    -0.14  1.11  0.11  0.18</span>
<span id="cb16-6"><a></a>California   2.50 -1.53  0.59  0.34</span>
<span id="cb16-7"><a></a>Colorado     1.50 -0.98  1.08  0.00</span>
<span id="cb16-8"><a></a>Connecticut -1.34 -1.08 -0.64  0.12</span>
<span id="cb16-9"><a></a>Delaware     0.05 -0.32 -0.71  0.87</span>
<span id="cb16-10"><a></a>Florida      2.98  0.04 -0.57  0.10</span>
<span id="cb16-11"><a></a>Georgia      1.62  1.27 -0.34 -1.07</span>
<span id="cb16-12"><a></a>Hawaii      -0.90 -1.55  0.05 -0.89</span>
<span id="cb16-13"><a></a>Idaho       -1.62  0.21  0.26  0.49</span>
<span id="cb16-14"><a></a>Illinois     1.37 -0.67 -0.67  0.12</span>
<span id="cb16-15"><a></a>Indiana     -0.50 -0.15  0.23 -0.42</span>
<span id="cb16-16"><a></a>Iowa        -2.23 -0.10  0.16 -0.02</span>
<span id="cb16-17"><a></a>Kansas      -0.79 -0.27  0.03 -0.20</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<aside class="notes"><ul>
<li>The value of the <em>rotated</em> data, the data values of each PC are stored in <code>pca_output$x</code>.</li>
<li>In other words, PC1 column here shows the projected values of observations onto PC1. PC2 column shows the projected values of observations onto PC2, and so on.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="interpretation-of-pcs" class="slide level2"><h2>Interpretation of PCs</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pca_output</span><span class="op">$</span><span class="va">rotation</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          PC1   PC2   PC3    PC4
Murder   0.54  0.42 -0.34 -0.649
Assault  0.58  0.19 -0.27  0.743
UrbanPop 0.28 -0.87 -0.38 -0.134
Rape     0.54 -0.17  0.82 -0.089</code></pre>
</div>
</div>
<ul>
<li>PCs are less interpretable than original features.</li>
<li>The first loading vector places approximately equal weight on <code>Assualt</code>, <code>Murder</code> and <code>Rape</code>, with much less weights on <code>UrbanPop</code>.</li>
<li>PC1 roughly corresponds to a <strong>overall serious crime rate</strong>.</li>
</ul>
<div class="fragment">
<ul>
<li>The second loading vector places most of its weight on <code>UrbanPop</code>, and much less weight on the other 3 features.</li>
<li>PC2 roughly corresponds to the <strong>level of urbanization</strong>.</li>
</ul>
<aside class="notes"><ul>
<li>Intepretability decreases with the order of PCs.</li>
<li>So it’s easier to give PC1 a meaningful name than PC2, and PC2 is more meaningful than PC3, and so on. Because the PCs after the first 2 PCs usually explain quite small variation in the data, and some of them may be just noises.</li>
<li>Let’s see if we can interpret these PCs.</li>
<li>First keep in mind that PCs are less interpretable than original features. Sometimes we even don’t know how to interpret it, especially for PCs that explain small variations. So this is the price we pay for dimension reduction.</li>
<li>But let’s look at this example.</li>
<li>The first loading vector places approximately equal weight on <code>Assualt</code>, <code>Murder</code> and <code>Rape</code>, with much less weights on <code>UrbanPop</code>.</li>
<li>So PC1 roughly corresponds to a <strong>overall serious crime rate</strong> because PC1 explains the variations of data caused by those crime variables <code>Assualt</code>, <code>Murder</code> and <code>Rape</code>.</li>
<li>On the contrary, the second loading vector places most of its weight on <code>UrbanPop</code>, and much less weight on the other 3 features.</li>
<li>So we can say PC2 roughly corresponds to the <strong>level of urbanization</strong>.</li>
<li>So you get the idea, <code>Assualt</code>, <code>Murder</code> and <code>Rape</code> are similar each other because they all are measures of crime rate.</li>
<li>So when reducing dimensions, we sort of combine the three similar variables together to become a one single index that measures an overall crime rate.</li>
<li>Urban population measures a totally different thing. So the variation created by this variable cannot be explained well by the crime rate, and it should be absorbed in PC2.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section><section id="d-representation-of-the-4d-data" class="slide level2"><h2>2D Representation of the 4D data</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>            PC1   PC2   PC3   PC4
Wisconsin -2.06 -0.61 -0.14 -0.18
Wyoming   -0.62  0.32 -0.24  0.16</code></pre>
</div>
</div>
<!-- # ```{r, eval=F} -->
<!-- # #| echo: true -->
<!-- # plot(x = pca_output$x[, 1],  -->
<!-- #      y = pca_output$x[, 2], cex = 0,  -->
<!-- #      xlim = c(-3, 3), ylim = c(-3, 3),  -->
<!-- #      xlab = "PC1 (crime index)",  -->
<!-- #      ylab = "PC2 (urbanization index)") -->
<!-- # text(x = pca_output$x[, 1],  -->
<!-- #      y = pca_output$x[, 2],  -->
<!-- #      labels = state.abb) -->
<!-- # ``` -->
<!-- # ```{r} -->
<!-- # #| echo: true -->
<!-- # wi_pc <- pca_output$x[row.names(pca_output$x)  -->
<!-- #                       == "Wisconsin", ] -->
<!-- # round(wi_pc, 3) -->
<!-- # ``` -->
<ul>
<li><p>Higher value of PC1 means higher crime rates (roughly).</p></li>
<li><p>Higher value of PC2 means higher level of urbanization (roughly).</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/unnamed-chunk-41-1.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>And we can show our 2D Representation of the 4D data.</li>
<li>Higher value of PC1 means higher crime rates (roughly).</li>
<li>Higher value of PC2 means higher level of urbanization (roughly).</li>
<li>We may be able to further analysis on the reduced dimension data, for example, we may want to partition the data into 2 clusters.</li>
<li>One cluster has high crime rate and low urbanization, the other group shows low crime rate and high urbanization.</li>
<li>One cluster may be the low economically-developed states, and the other high economically-developed states.</li>
<li>So you see, we can tell lots of stories by analyzing our data.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="d-representation-of-the-4d-data-biplot" class="slide level2"><h2>2D Representation of the 4D data: biplot</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/biplot.html">biplot</a></span><span class="op">(</span><span class="va">pca_output</span>, xlabs <span class="op">=</span> <span class="va">state.abb</span>, </span>
<span>       scale <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Top axis: PC1 loadings</li>
<li>Right axis: PC2 loadings</li>
<li>Red arrows: PC1 and PC2 loading vector, e.g., (0.28, -0.87) for <code>UrbanPop</code>.</li>
<li>Crime-related variables (<code>Assualt</code>, <code>Murder</code> and <code>Rape</code>) are located close to each other.</li>
<li>
<code>UrbanPop</code> is far from the other three.</li>
<li>
<code>Assualt</code>, <code>Murder</code> and <code>Rape</code> are more correlated, and <code>UrbanPop</code> is less correlated with the other three.</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/biplot-1.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<aside class="notes"><ul>
<li>We can simply use the function biplot() to show the 2D Representation of the data.</li>
<li>This function also provide loading vector of PC1 and PC2 that gives us an idea of which direction means a large value of a variable/feature.</li>
<li>This is why it is called biplot because we plot two things in one single plot.</li>
<li>Here, Top axis is for PC1 loadings</li>
<li>Right axis is PC2 loadings</li>
<li>Red arrows: PC1 and PC2 loading vector, e.g., (0.28, 0.87) for <code>UrbanPop</code>.</li>
<li>So NJ and Ca have pretty high urban pop rate because they are large in the <code>UrbanPop</code> arrow direction.</li>
<li>Crime-related variables (<code>Assualt</code>, <code>Murder</code> and <code>Rape</code>) are located close to each other.</li>
<li>
<code>UrbanPop</code> is far from the other three.</li>
<li>
<code>Assualt</code>, <code>Murder</code> and <code>Rape</code> are more correlated, and <code>UrbanPop</code> is less correlated with the other three.</li>
<li>
<code>Assualt</code>, <code>Murder</code> and <code>Rape</code> sort of point to the same direction as PC1 and <code>UrbanPop</code> points to the same direction as PC2.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="proportion-of-variance-explained" class="slide level2"><h2>Proportion of Variance Explained</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="op">(</span><span class="va">pc_var</span> <span class="op">&lt;-</span> <span class="va">pca_output</span><span class="op">$</span><span class="va">sdev</span> <span class="op">^</span> <span class="fl">2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.48 0.99 0.36 0.17</code></pre>
</div>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="op">(</span><span class="va">pc_var_prop</span> <span class="op">&lt;-</span> <span class="va">pc_var</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">pc_var</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.620 0.247 0.089 0.043</code></pre>
</div>
</div>
<ul>
<li>PC1 explains <span class="math inline">\(62\%\)</span> of the variations in the data, and PC2 explains <span class="math inline">\(24.7\%\)</span> of the variance.</li>
<li>PC1 and PC2 explain about <span class="math inline">\(87\%\)</span> of the variance, and the last two PCs explain only <span class="math inline">\(13\%\)</span>.</li>
<li>2D plot provides pretty accurate summary of the data.</li>
</ul>
<aside class="notes"><ul>
<li>Finally I want to talk a little bit about Proportion of Variance Explained.</li>
<li>In the pca_output, we have SD of each PC.</li>
<li>We square it to get variance.</li>
<li>Then if we divided by the sum of variance, we get the Proportion of Variance Explained by each PC.</li>
<li>So PC1 explains <span class="math inline">\(62\%\)</span> of the variations in the data, and PC2 explains <span class="math inline">\(24.7\%\)</span> of the variance.</li>
<li>PC1 and PC2 explain about <span class="math inline">\(87\%\)</span> of the variance, and the last two PCs explain only <span class="math inline">\(13\%\)</span>.</li>
<li>2D plot provides pretty accurate summary of the data.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="scree-plot" class="slide level2"><h2>Scree Plot</h2>
<p>Look for a point at which the proportion of variance explained by each subsequent PC drops off.</p>

<img data-src="images/15-pca/screeplot-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:48.0%"></section></section><section><section id="mathematics-of-pca" class="title-slide slide level1 center"><h1>Mathematics of PCA</h1>

</section><section id="principal-components" class="slide level2"><h2>Principal Components</h2>
<ul>
<li>The <span class="math inline">\(k\)</span>th PC is</li>
</ul>
<p><span class="math display">\[Z_k = \phi_{1k}X_1 + \phi_{2k}X_2 + \dots + \phi_{pk}X_p,\]</span> where <span class="math inline">\(\sum_{j=1}^p\phi_{jk}^2=1\)</span>.</p>
<ul>
<li><p><span class="math inline">\((\phi_{1k}, \phi_{2k}, \dots, \phi_{pk})'\)</span> is the PC <strong>loading vector</strong>.</p></li>
<li><p>The PC1 loading vector solves</p></li>
</ul>
<p><span class="math display">\[\max_{\phi_{11}, \phi_{21}, \dots, \phi_{p1}} \left\{ \frac{1}{n}\sum_{i=1}^n z_{i1}^2\right\} = \left\{ \frac{1}{n}\sum_{i=1}^n \left( \sum_{j=1}^p  \phi_{j1} x_{ij}\right)^2\right\} \quad \text{s.t.} \quad \sum_{j=1}^p\phi_{j1}^2 = 1\]</span></p>
<!-- $$\max_{\phi_{11}, \phi_{21}, \dots, \phi_{p1}} \left\{ \frac{1}{n}\sum_{i=1}^n \left( \sum_{j=1}^p  \phi_{j1} x_{ij}\right)^2\right\} \quad \text{s.t.} \quad \sum_{j=1}^p\phi_{j1}^2 = 1$$ -->
<ul>
<li><p>Maximize the sample variance of the projected points, or the <strong>scores</strong> <span class="math inline">\(z_{11}, z_{21}, \dots, z_{n1}\)</span>.</p></li>
<li><p>The PC <strong>loading vector</strong> defines a direction in feature space along which the data vary the most.</p></li>
</ul></section><section id="principal-components-1" class="slide level2"><h2>Principal Components</h2>
<p>For <span class="math inline">\(k\)</span>th PC, <span class="math inline">\(k &gt; 1\)</span>,</p>
<div class="midi">
<p><span class="math display">\[\max_{\phi_{1k}, \phi_{2k}, \dots, \phi_{pk}} \left\{ \frac{1}{n}\sum_{i=1}^n z_{ik}^2\right\} = \left\{ \frac{1}{n}\sum_{i=1}^n \left( \sum_{j=1}^p  \phi_{jk} x_{ij}\right)^2\right\} \quad \text{s.t.} \quad \sum_{j=1}^p\phi_{jk}^2 = 1, \text{ and } {\mathbf{z}_m}'\mathbf{z}_k = 0, \, m = 1, \dots, k-1\]</span></p>
</div>
<p>where</p>
<p><span class="math inline">\(\mathbf{z}_l = (z_{1l}, z_{2l}, \dots, z_{nl})'\)</span></p>
<!-- $$\max_{\phi_{1k}, \phi_{2k}, \dots, \phi_{pk}} \left\{ \frac{1}{n}\sum_{i=1}^n \left( \sum_{j=1}^p  \phi_{jk} x_{ij}\right)^2\right\} \quad \text{s.t.} \quad \sum_{j=1}^p\phi_{jk}^2 = 1, \text{ and } {\bz_m}'\bz_k = 0, \, m = 1, \dots, k-1$$ -->
</section><section id="low-rank-approximation" class="slide level2"><h2>Low-Rank Approximation</h2>
<ul>
<li><p>PCs provide low-dimensional planes that are <em>closest</em> to the observations.</p></li>
<li><p><span class="math inline">\(x_{ij} \approx \sum_{m=1}^M z_{im}\phi_{jm}\)</span> with equality when <span class="math inline">\(M = \min(n-1, p)\)</span></p></li>
</ul>
<div class="small">
<p><span class="math display">\[(z_{im}, \phi_{jm}) = \mathop{\mathrm{arg\,min}}_{a_{im}, b_{jm}} \left\{ \sum_{j=1}^p\sum_{i=1}^n\left( x_{ij} - \sum_{m=1}^Ma_{im}b_{jm}\right)^2\right\}\]</span></p>
</div>
<div class="xsmall">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="./images/15-pca/12-2.png" style="width:60.0%"></p>
<figcaption>Source: ISL Fig 12.2</figcaption></figure>
</div>
</div>
</div>
</div>
</section><section id="scaling-the-variables" class="slide level2"><h2>Scaling the Variables</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">USArrests</span>, <span class="fl">2</span>, <span class="va">var</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Murder  Assault UrbanPop     Rape 
      19     6945      210       88 </code></pre>
</div>
</div>
<ul>
<li><p>If we perform PCA on the unscaled variables, PC1 loading vector will have a large loading for <code>Assault</code>.</p></li>
<li><p>When all the variables are of the same type, no need to scale the variables.</p></li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/unnamed-chunk-49-1.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/15-pca/unnamed-chunk-50-1.png" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section><section id="pca-and-svd" class="slide level2"><h2>PCA and SVD</h2>
<p>PCA is equivalent to singular value decomposition (SVD) of <span class="math inline">\(\mathbf{X}\)</span></p>
<p><span class="math display">\[\mathbf{X}_{n\times p} = \mathbf{U}_{n \times n} \mathbf{D}_{n \times p} \mathbf{V}'_{p \times p}\]</span> where <span class="math inline">\(\mathbf{U}\)</span> and <span class="math inline">\(\mathbf{V}\)</span> are orthogonal matrices, and <span class="math inline">\(\mathbf{D}\)</span> is diagonal with diagonal elements singular values <span class="math inline">\(d_1 \ge d_2 \ge \cdots \ge d_p\)</span>.</p>

<img data-src="./images/15-pca/svd.png" class="quarto-figure quarto-figure-center r-stretch" style="width:100.0%"></section><section id="pc-scores-and-svd" class="slide level2"><h2>PC Scores and SVD</h2>
<ul>
<li><p><span class="math inline">\({\bf Z}_{n \times p} = [{\bf z}_1 \, {\bf z}_2 \, \cdots \, {\bf z}_p] = \mathbf{X}\mathbf{V}\)</span></p></li>
<li><p>The <span class="math inline">\(j\)</span>th PC is the <span class="math inline">\(j\)</span>th column of <span class="math inline">\({\bf Z}\)</span> given by <span class="math inline">\({\bf z}_j = (z_{1j}, z_{2j}, \dots, z_{nj})' = {\bf Xv}_j\)</span>.</p></li>
<li><p>Project <span class="math inline">\(\mathbf{X}\)</span> onto the space spanned by <span class="math inline">\(\mathbf{v}_j\)</span>s</p></li>
<li><p><span class="math inline">\(\mathbf{v}_j\)</span>s are <em>loading vectors</em>.</p></li>
</ul>
<div class="fragment">
<ul>
<li><p><span class="math inline">\({\bf Z}_{n \times p} = \mathbf{U}\mathbf{D}\)</span></p></li>
<li><p><span class="math inline">\({\bf z}_j = d_j\mathbf{u}_j\)</span>.</p></li>
<li><p><span class="math inline">\(\mathbf{u}_j\)</span>s are the unit PC vectors, and <span class="math inline">\(d_j\)</span> controls the variation along the <span class="math inline">\(\mathbf{u}_j\)</span> direction.</p></li>
</ul>
</div>
</section><section id="low-rank-approximation-and-svd" class="slide level2"><h2>Low-Rank Approximation and SVD</h2>
<p><span class="math inline">\({\mathbf{X}} = {\mathbf{U}}{\mathbf{D}}{\mathbf{V}}'\)</span></p>
<p><span class="math inline">\(\mathbf{A}= \mathbf{U}_{n\times M}\mathbf{D}_{M \times M}\)</span> and <span class="math inline">\(\mathbf{B}' = \mathbf{V}_{M\times p}'\)</span> are the minimizer of</p>
<p><span class="math display">\[ \min_{\mathbf{A}\in \mathbf{R}^{n \times M}, \mathbf{B}\in \mathbf{R}^{p \times M}} \|\mathbf{X}- \mathbf{A}\mathbf{B}' \|\]</span> where</p>
<ul>
<li>
<span class="math inline">\(\mathbf{U}_{n\times M}\)</span> is <span class="math inline">\(\mathbf{U}\)</span> with the first <span class="math inline">\(M\)</span> columns</li>
<li>
<span class="math inline">\(\mathbf{D}_{M \times M}\)</span> is <span class="math inline">\(\mathbf{D}\)</span> of the first <span class="math inline">\(M\)</span> rows and columns</li>
<li>
<span class="math inline">\(\mathbf{V}_{M\times p}'\)</span> is <span class="math inline">\(\mathbf{V}'\)</span> with the first <span class="math inline">\(M\)</span> rows</li>
</ul>
<div class="fragment">
<ul>
<li><p><span class="math inline">\(x_{ij} = \sum_{m = 1}^p d_mu_{im}v_{jm}\)</span></p></li>
<li><p><span class="math inline">\(x_{ij} \approx \sum_{m = 1}^M d_mu_{im}v_{jm}\)</span></p></li>
</ul>
</div>
</section><section id="pca-and-eigendecomposition" class="slide level2"><h2>PCA and Eigendecomposition</h2>
<p>PCA is equivalent to eigendecomposition of <span class="math inline">\(\mathbf{X}'\mathbf{X}\)</span> or <span class="math inline">\(\boldsymbol \Sigma= \text{Cov}(\mathbf{X}) = \dfrac{\mathbf{X}'\mathbf{X}}{n-1}\)</span><sup>1</sup>, the covariance matrix of <span class="math inline">\(\mathbf{X}\)</span>.</p>
<!-- $$\bSigma = \Cov(\bX) = \dfrac{\bX'\bX}{n-1} = \bV\frac{\bD^2}{n-1}\bV'$$ -->
<p><span class="math display">\[\mathbf{X}'\mathbf{X}= \mathbf{V}\mathbf{D}^2\mathbf{V}' = d_1^2\mathbf{v}_1\mathbf{v}_1' + \dots + d_p^2\mathbf{v}_p\mathbf{v}_p'\]</span></p>
<ul>
<li><p>Total variation: <span class="math inline">\(\sum_{j=1}^p \text{Var}(\mathbf{x}_j) = \frac{1}{n-1}\sum_{j=1}^pd_j^2 = p\)</span></p></li>
<li><p>Variation of <span class="math inline">\(m\)</span>th PC: <span class="math inline">\(\text{Var}(\mathbf{z}_m) = \frac{d_m^2}{n-1}\)</span></p></li>
</ul><aside><ol class="aside-footnotes"><li id="fn1"><p>Unit normal scaling (normalization or standardization) is such that the variance is one, and unit length scaling makes the length one. If <span class="math inline">\(\mathbf{W}\)</span> is the unit length scaled version, <span class="math inline">\(\text{Corr}(\mathbf{W}) = \mathbf{W}'\mathbf{W}= \frac{\mathbf{X}'\mathbf{X}}{n-1}\)</span></p></li></ol></aside></section><section id="transformed-ols-regression" class="slide level2"><h2>Transformed OLS Regression</h2>
<p>Transform <span class="math inline">\({\bf y = X\boldsymbol \beta+ \boldsymbol \epsilon}\)</span> into <span class="math display">\[{\bf y = XVV'\boldsymbol \beta+ \boldsymbol \epsilon= Z\boldsymbol \alpha} + \boldsymbol \epsilon\]</span> where <span class="math inline">\(\mathbf{Z}= \mathbf{X}\mathbf{V}\)</span> and <span class="math inline">\(\boldsymbol \alpha= \mathbf{V}'\boldsymbol \beta\)</span>, or <span class="math inline">\(\boldsymbol \beta= \mathbf{V}\boldsymbol \alpha\)</span>.</p>
<ul>
<li><p>The least- squares estimator <span class="math inline">\(\hat{\boldsymbol \alpha} = (\mathbf{Z}'\mathbf{Z})^{-1}\mathbf{Z}'\mathbf{y}= \mathbf{D}^{-2}\mathbf{Z}'\mathbf{y}\)</span></p></li>
<li><p><span class="math inline">\(\text{Var}\left(\hat{\boldsymbol \alpha} \right) = \sigma^2 (\mathbf{Z}'\mathbf{Z})^{-1} = \sigma^2 \mathbf{D}^{-2}\)</span></p></li>
<li><p>A small <span class="math inline">\(d_j\)</span> means that the variance of <span class="math inline">\(\alpha_j\)</span> will be large.</p></li>
<li>
<p>The PC regression combats multicollinearity by using <em>less PCs</em> <span class="math inline">\((m \ll p)\)</span> in the model.</p>
<ul>
<li>The PCs corresponding to tiny <span class="math inline">\(d_j\)</span>s (huge variance) are removed and least-squares is applied to the remaining PCs.</li>
</ul>
</li>
</ul>
<aside class="notes"><ul>
<li>Even though the new variables are orthogonal, the same magnitude of variance due to the ill-conditioning in <span class="math inline">\(X'X\)</span> is retained. The total variance has merely been redistributed.</li>
<li><span class="math inline">\({\bf y = X\boldsymbol \beta+ \boldsymbol \epsilon}\)</span></li>
<li>
<span class="math inline">\({\bf y = XVV'\boldsymbol \beta+ \boldsymbol \epsilon= Z\boldsymbol \alpha} + \boldsymbol \epsilon\)</span> where <span class="math inline">\({\bf Z  =XV}\)</span> and <span class="math inline">\({\bf \boldsymbol \alpha= V'\boldsymbol \beta}\)</span>.</li>
<li>The least- squares estimator <span class="math inline">\(\hat{\boldsymbol \alpha} = {\bf (Z'Z)^{-1}Z'y = \Lambda^{-1}Z'y}\)</span>
</li>
<li><span class="math inline">\(\var\left(\hat{\boldsymbol \alpha} \right) = \sigma^2 {\bf (Z'Z)}^{-1} = \sigma^2 {\bf \Lambda}^{-1}\)</span></li>
<li>A small <span class="math inline">\(\lambda_j\)</span> means that the variance of <span class="math inline">\(\alpha_j\)</span> will be large.</li>
<li>The PC regression combats multicollinearity by using less PCs in the model.</li>
<li>Assume that the regressors are arranged in order of decreasing eigenvalues, <span class="math inline">\(\lambda_1 \ge \lambda_2 \ge \cdots \ge \lambda_k &gt; 0\)</span>.</li>
<li>The PCs corresponding to near-zero eigenvalues are removed and least squares applied to the remaining PCs.</li>
<li>If all PCs are in the model, it is just a rotation of the regressors. The same magnitude of variance is retained.</li>
<li>The small variation in the <span class="math inline">\(z_2\)</span> direction is responsible for the large variance in <span class="math inline">\(\hat{\alpha}_2\)</span>.</li>
<li>A large <span class="math inline">\(\lambda_1\)</span> allows variance of <span class="math inline">\(\hat{\alpha}_1\)</span> to be relatively unaffected by the dependency of <span class="math inline">\(x_1\)</span> and <span class="math inline">\(x_2\)</span>.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="principal-component-regression-pcr" class="slide level2"><h2>Principal Component Regression (PCR)</h2>
<ul>
<li>Keep <span class="math inline">\(m &lt; p\)</span> PCs with the largest <span class="math inline">\(m\)</span> singular values <span class="math inline">\(d_1, d_2, \dots, d_m\)</span>.</li>
<li>The least- squares estimator is <span class="math display">\[\hat{\boldsymbol \alpha}_m = ({\bf Z} _m ' {\bf Z} _m) ^ {-1} {\bf Z}_m ' {\bf y} = \mathbf{D}_m ^ {-2} {\bf Z}_m '{\bf y}\]</span> where <span class="math inline">\({\bf Z}_m = [{\bf z}_1 \, {\bf z}_2 \, \cdots \, {\bf z}_m]\)</span> and <span class="math inline">\({\bf \mathbf{D}}_m = \text{diag}(d_1, d_2, \dots, d_m)\)</span>
</li>
</ul>
<div class="fragment">
<ul>
<li><span class="math inline">\({\bf b}_{pc} = {\bf V}_m\hat{\boldsymbol \alpha}_m = [{\bf v}_1 \, {\bf v}_2 \, \cdots \, {\bf v}_m] \begin{bmatrix} \hat{\alpha}_1 \\ \hat{\alpha}_2 \\ \vdots \\ \hat{\alpha}_m \end{bmatrix}\)</span></li>
<li>
<span class="math inline">\({\bf b}_{pc}\)</span> is biased but has smaller variance than <span class="math inline">\({\bf b}\)</span>.</li>
</ul>
<aside class="notes"><ul>
<li>Keep the first <span class="math inline">\(m &lt; k\)</span> PCs.</li>
<li>The least- squares estimator is <span class="math display">\[\hat{\boldsymbol \alpha}_m = ({\bf Z} _m ' {\bf Z} _m) ^ {-1} {\bf Z}_m ' {\bf y} = {\bf \Lambda} _m ^ {-1} {\bf Z}_m '{\bf y}\]</span> where <span class="math inline">\({\bf Z}_m = [{\bf z}_1 \, {\bf z}_2 \, \cdots \, {\bf z}_m]\)</span> and <span class="math inline">\({\bf \Lambda}_m = \text{diag}(\lambda_1, \lambda_2, \dots, \lambda_m)\)</span>
</li>
<li>To transform back to the original coefficients, since <span class="math inline">\({\bf \boldsymbol \alpha= V'\boldsymbol \beta}\)</span>, <span class="math inline">\({\bf \boldsymbol \beta= V\boldsymbol \alpha}\)</span>
</li>
<li><span class="math inline">\({\bf b}_{pc} = {\bf V}_m\hat{\boldsymbol \alpha}_m = [{\bf v}_1 \, {\bf v}_2 \, \cdots \, {\bf v}_m] \begin{bmatrix} \hat{\alpha}_1 \\ \hat{\alpha}_2 \\ \vdots \\ \hat{\alpha}_m \end{bmatrix}\)</span></li>
<li>
<span class="math inline">\({\bf b}_{pc}\)</span> is biased but has smaller variance than <span class="math inline">\({\bf b}\)</span>. Deleting PCs does not imply deletion of any of original regressors. The selected <span class="math inline">\(m\)</span> PCs do contain information provided by all <span class="math inline">\(k\)</span> original regressors.</li>
</ul><style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section><section id="principal-component-regression" class="slide level2"><h2>Principal Component Regression</h2>
<div class="alert">
<ul>
<li>PCR performs well when the directions in which <em><span class="math inline">\(X_1, \dots ,X_p\)</span> show the most variation (the first few PCs) are the directions that are associated with <span class="math inline">\(Y\)</span>.</em>
</li>
</ul>
</div>
<div class="fragment">
<div class="alert">
<ul>
<li>Deleting PCs does not imply deletion of any of original regressors. The selected <span class="math inline">\(m\)</span> PCs contain information provided by all <span class="math inline">\(k\)</span> original regressors. (<em>Not a feature selection method</em>)</li>
</ul>
</div>
</div>
<div class="fragment">
<div class="alert">
<ul>
<li>PCR and ridge regression are closely related. Ridge regression is a <em>continuous</em> version of PCR.</li>
</ul>
</div>
</div>
</section><section id="plspcr" class="slide level2"><h2><code>pls::pcr()</code></h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/khliland/pls">pls</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">pcr.fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/pls/man/mvr.html">pcr</a></span><span class="op">(</span><span class="va">Salary</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">Hitters</span>, </span>
<span>               subset <span class="op">=</span> <span class="va">train</span>,</span>
<span>               scale <span class="op">=</span> <span class="cn">TRUE</span>, validation <span class="op">=</span> <span class="st">"CV"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/pls/man/validationplot.html">validationplot</a></span><span class="op">(</span><span class="va">pcr.fit</span>, val.type <span class="op">=</span> <span class="st">"MSEP"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="images/15-pca/unnamed-chunk-53-1.png" class="quarto-figure quarto-figure-center r-stretch" style="width:100.0%"><aside class="notes"><p>https://stats.stackexchange.com/questions/371054/what-is-adjusted-cv-or-bias-corrected-cv</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside></section><section id="plspcr-1" class="slide level2"><h2><code>pls::pcr()</code></h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcr.pred</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">pcr.fit</span>, <span class="va">x</span><span class="op">[</span><span class="va">test</span>, <span class="op">]</span>, ncomp <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="op">(</span><span class="va">pcr.pred</span> <span class="op">-</span> <span class="va">y.test</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 142812</code></pre>
</div>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pcr.fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/pls/man/mvr.html">pcr</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x</span>, scale <span class="op">=</span> <span class="cn">TRUE</span>, ncomp <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">pcr.fit</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Data:   X dimension: 263 19 
    Y dimension: 263 1
Fit method: svdpc
Number of components considered: 5
TRAINING: % variance explained
   1 comps  2 comps  3 comps  4 comps  5 comps
X    38.31    60.16    70.84    79.03    84.29
y    40.63    41.58    42.17    43.22    44.90</code></pre>
</div>
</div>
<aside class="notes"><p>coefficients are in scaled unit, not original units.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside><!-- ## PCs with Missing Values --><!-- ## Matrix Completion --><!-- ## Recommender System --></section><section id="other-dimension-reduction-latent-variable-methods" class="slide level2"><h2>Other Dimension Reduction (Latent Variable) Methods</h2>
<ul>
<li><p>Kernel Principal Component Analysis <a href="https://ml-explained.com/blog/kernel-pca-explained" class="uri">https://ml-explained.com/blog/kernel-pca-explained</a></p></li>
<li><p>Probabilistic PCA</p></li>
<li><p>Factor Analysis</p></li>
<li><p>Autoencoders</p></li>
<li><p>t-SNE (t-distributed stochastic neighbor embedding)</p></li>
<li><p>UMAP (Uniform manifold approximation and projection)</p></li>
</ul>
<!-- - PML Ch. 20; ESL Ch. 14 -->
<div class="quarto-auto-generated-content">
<p><img src="https://upload.wikimedia.org/wikipedia/commons/e/e8/Marquette_Golden_Eagles_logo.svg" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://mssc6250-s25.github.io/website/">mssc6250-s25.github.io/website</a></p>
</div>
</div>
</section></section>
</div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="../site_libs/revealjs/dist/reveal.js"></script><!-- reveal.js plugins --><script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script><script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script><script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script><script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script><script src="../site_libs/revealjs/plugin/multiplex/socket.io.js"></script><script src="../site_libs/revealjs/plugin/multiplex/multiplex.js"></script><script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script><script src="../site_libs/revealjs/plugin/notes/notes.js"></script><script src="../site_libs/revealjs/plugin/search/search.js"></script><script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script><script src="../site_libs/revealjs/plugin/math/math.js"></script><script>window.define = window.backupDefine; window.backupDefine = undefined;</script><script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'multiplex': {"secret":null,"id":"c8ac599e7448a0a3","url":"https://reveal-multiplex.glitch.me/"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1800,

        height: 1000,

        // Factor of the display size that should remain empty around the content
        margin: 5.0e-2,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          
          RevealSearch,
          RevealZoom
        ]
      });
    </script><script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script><script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("https:\/\/mssc6250-s25\.github\.io\/website\/");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>


</body></html>