{
  "hash": "bcac8b22bf3e42fe748cfe468e8fe4b6",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"15 - Principal Component Analysis Code Demo\"\nauthor: 'Dr. Cheng-Han Yu'\nformat: \n  html:\n    toc: true\n    code-link: true\n    code-fold: show\n    # code-summary: \"Show/Hide\"\n    code-tools: true\n    number-sections: true\n# filters: \n#   - include-code-files\n---\n\n# R implementation\n\n::: {.cell}\n\n```{.r .cell-code}\nUSArrests\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n               Murder Assault UrbanPop Rape\nAlabama          13.2     236       58 21.2\nAlaska           10.0     263       48 44.5\nArizona           8.1     294       80 31.0\nArkansas          8.8     190       50 19.5\nCalifornia        9.0     276       91 40.6\nColorado          7.9     204       78 38.7\nConnecticut       3.3     110       77 11.1\nDelaware          5.9     238       72 15.8\nFlorida          15.4     335       80 31.9\nGeorgia          17.4     211       60 25.8\nHawaii            5.3      46       83 20.2\nIdaho             2.6     120       54 14.2\nIllinois         10.4     249       83 24.0\nIndiana           7.2     113       65 21.0\nIowa              2.2      56       57 11.3\nKansas            6.0     115       66 18.0\nKentucky          9.7     109       52 16.3\nLouisiana        15.4     249       66 22.2\nMaine             2.1      83       51  7.8\nMaryland         11.3     300       67 27.8\nMassachusetts     4.4     149       85 16.3\nMichigan         12.1     255       74 35.1\nMinnesota         2.7      72       66 14.9\nMississippi      16.1     259       44 17.1\nMissouri          9.0     178       70 28.2\nMontana           6.0     109       53 16.4\nNebraska          4.3     102       62 16.5\nNevada           12.2     252       81 46.0\nNew Hampshire     2.1      57       56  9.5\nNew Jersey        7.4     159       89 18.8\nNew Mexico       11.4     285       70 32.1\nNew York         11.1     254       86 26.1\nNorth Carolina   13.0     337       45 16.1\nNorth Dakota      0.8      45       44  7.3\nOhio              7.3     120       75 21.4\nOklahoma          6.6     151       68 20.0\nOregon            4.9     159       67 29.3\nPennsylvania      6.3     106       72 14.9\nRhode Island      3.4     174       87  8.3\nSouth Carolina   14.4     279       48 22.5\nSouth Dakota      3.8      86       45 12.8\nTennessee        13.2     188       59 26.9\nTexas            12.7     201       80 25.5\nUtah              3.2     120       80 22.9\nVermont           2.2      48       32 11.2\nVirginia          8.5     156       63 20.7\nWashington        4.0     145       73 26.2\nWest Virginia     5.7      81       39  9.3\nWisconsin         2.6      53       66 10.8\nWyoming           6.8     161       60 15.6\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npca_output <- prcomp(USArrests, scale = TRUE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n(pca_output$rotation <- -pca_output$rotation)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n               PC1        PC2        PC3         PC4\nMurder   0.5358995  0.4181809 -0.3412327 -0.64922780\nAssault  0.5831836  0.1879856 -0.2681484  0.74340748\nUrbanPop 0.2781909 -0.8728062 -0.3780158 -0.13387773\nRape     0.5434321 -0.1673186  0.8177779 -0.08902432\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npca_output$x\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                       PC1         PC2         PC3          PC4\nAlabama        -0.97566045 -1.12200121  0.43980366  0.154696581\nAlaska         -1.93053788 -1.06242692 -2.01950027 -0.434175454\nArizona        -1.74544285  0.73845954 -0.05423025 -0.826264240\nArkansas        0.13999894 -1.10854226 -0.11342217 -0.180973554\nCalifornia     -2.49861285  1.52742672 -0.59254100 -0.338559240\nColorado       -1.49934074  0.97762966 -1.08400162  0.001450164\nConnecticut     1.34499236  1.07798362  0.63679250 -0.117278736\nDelaware       -0.04722981  0.32208890  0.71141032 -0.873113315\nFlorida        -2.98275967 -0.03883425  0.57103206 -0.095317042\nGeorgia        -1.62280742 -1.26608838  0.33901818  1.065974459\nHawaii          0.90348448  1.55467609 -0.05027151  0.893733198\nIdaho           1.62331903 -0.20885253 -0.25719021 -0.494087852\nIllinois       -1.36505197  0.67498834  0.67068647 -0.120794916\nIndiana         0.50038122  0.15003926 -0.22576277  0.420397595\nIowa            2.23099579  0.10300828 -0.16291036  0.017379470\nKansas          0.78887206  0.26744941 -0.02529648  0.204421034\nKentucky        0.74331256 -0.94880748  0.02808429  0.663817237\nLouisiana      -1.54909076 -0.86230011  0.77560598  0.450157791\nMaine           2.37274014 -0.37260865  0.06502225 -0.327138529\nMaryland       -1.74564663 -0.42335704  0.15566968 -0.553450589\nMassachusetts   0.48128007  1.45967706  0.60337172 -0.177793902\nMichigan       -2.08725025  0.15383500 -0.38100046  0.101343128\nMinnesota       1.67566951  0.62590670 -0.15153200  0.066640316\nMississippi    -0.98647919 -2.36973712  0.73336290  0.213342049\nMissouri       -0.68978426  0.26070794 -0.37365033  0.223554811\nMontana         1.17353751 -0.53147851 -0.24440796  0.122498555\nNebraska        1.25291625  0.19200440 -0.17380930  0.015733156\nNevada         -2.84550542  0.76780502 -1.15168793  0.311354436\nNew Hampshire   2.35995585  0.01790055 -0.03648498 -0.032804291\nNew Jersey     -0.17974128  1.43493745  0.75677041  0.240936580\nNew Mexico     -1.96012351 -0.14141308 -0.18184598 -0.336121113\nNew York       -1.66566662  0.81491072  0.63661186 -0.013348844\nNorth Carolina -1.11208808 -2.20561081  0.85489245 -0.944789648\nNorth Dakota    2.96215223 -0.59309738 -0.29824930 -0.251434626\nOhio            0.22369436  0.73477837  0.03082616  0.469152817\nOklahoma        0.30864928  0.28496113  0.01515592  0.010228476\nOregon         -0.05852787  0.53596999 -0.93038718 -0.235390872\nPennsylvania    0.87948680  0.56536050  0.39660218  0.355452378\nRhode Island    0.85509072  1.47698328  1.35617705 -0.607402746\nSouth Carolina -1.30744986 -1.91397297  0.29751723 -0.130145378\nSouth Dakota    1.96779669 -0.81506822 -0.38538073 -0.108470512\nTennessee      -0.98969377 -0.85160534 -0.18619262  0.646302674\nTexas          -1.34151838  0.40833518  0.48712332  0.636731051\nUtah            0.54503180  1.45671524 -0.29077592 -0.081486749\nVermont         2.77325613 -1.38819435 -0.83280797 -0.143433697\nVirginia        0.09536670 -0.19772785 -0.01159482  0.209246429\nWashington      0.21472339  0.96037394 -0.61859067 -0.218628161\nWest Virginia   2.08739306 -1.41052627 -0.10372163  0.130583080\nWisconsin       2.05881199  0.60512507  0.13746933  0.182253407\nWyoming         0.62310061 -0.31778662  0.23824049 -0.164976866\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nbiplot(pca_output, xlabs = state.abb, scale = 0,\n       col = c(\"blue\", \"red\"), las = 1,\n       xlab = \"PC1 score\", ylab = \"PC2 score\")\n```\n\n::: {.cell-output-display}\n![](15-pca-code_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n(pc_var <- pca_output$sdev ^ 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2.4802416 0.9897652 0.3565632 0.1734301\n```\n\n\n:::\n\n```{.r .cell-code}\n(pc_var_prop <- pc_var / sum(pc_var))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.62006039 0.24744129 0.08914080 0.04335752\n```\n\n\n:::\n:::\n\n# Python implementation\n\nThe biplot in Python needs extra work. We need to either write our own function or rely on some other packages such as [`pca`](https://pypi.org/project/pca/).\n\n::: {.cell}\n\n```{.python .cell-code}\nimport numpy as np\nimport pandas as pd\nfrom sklearn.decomposition import PCA\nfrom sklearn.preprocessing import StandardScaler\n```\n:::\n\n::: {.cell}\n\n```{.python .cell-code}\nUSArrests = pd.read_csv('../data/USArrests.csv')\n```\n:::\n\n::: {.cell}\n\n```{.python .cell-code}\nUSArr = USArrests.drop(['rownames'], axis = 1)\nUSArr.index = USArrests['rownames']\nUSArr\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                Murder  Assault  UrbanPop  Rape\nrownames                                       \nAlabama           13.2      236        58  21.2\nAlaska            10.0      263        48  44.5\nArizona            8.1      294        80  31.0\nArkansas           8.8      190        50  19.5\nCalifornia         9.0      276        91  40.6\nColorado           7.9      204        78  38.7\nConnecticut        3.3      110        77  11.1\nDelaware           5.9      238        72  15.8\nFlorida           15.4      335        80  31.9\nGeorgia           17.4      211        60  25.8\nHawaii             5.3       46        83  20.2\nIdaho              2.6      120        54  14.2\nIllinois          10.4      249        83  24.0\nIndiana            7.2      113        65  21.0\nIowa               2.2       56        57  11.3\nKansas             6.0      115        66  18.0\nKentucky           9.7      109        52  16.3\nLouisiana         15.4      249        66  22.2\nMaine              2.1       83        51   7.8\nMaryland          11.3      300        67  27.8\nMassachusetts      4.4      149        85  16.3\nMichigan          12.1      255        74  35.1\nMinnesota          2.7       72        66  14.9\nMississippi       16.1      259        44  17.1\nMissouri           9.0      178        70  28.2\nMontana            6.0      109        53  16.4\nNebraska           4.3      102        62  16.5\nNevada            12.2      252        81  46.0\nNew Hampshire      2.1       57        56   9.5\nNew Jersey         7.4      159        89  18.8\nNew Mexico        11.4      285        70  32.1\nNew York          11.1      254        86  26.1\nNorth Carolina    13.0      337        45  16.1\nNorth Dakota       0.8       45        44   7.3\nOhio               7.3      120        75  21.4\nOklahoma           6.6      151        68  20.0\nOregon             4.9      159        67  29.3\nPennsylvania       6.3      106        72  14.9\nRhode Island       3.4      174        87   8.3\nSouth Carolina    14.4      279        48  22.5\nSouth Dakota       3.8       86        45  12.8\nTennessee         13.2      188        59  26.9\nTexas             12.7      201        80  25.5\nUtah               3.2      120        80  22.9\nVermont            2.2       48        32  11.2\nVirginia           8.5      156        63  20.7\nWashington         4.0      145        73  26.2\nWest Virginia      5.7       81        39   9.3\nWisconsin          2.6       53        66  10.8\nWyoming            6.8      161        60  15.6\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.python .cell-code}\nscaler = StandardScaler()\nX = scaler.fit_transform(USArr.values) ## Array\n```\n:::\n\n::: {.cell}\n\n```{.python .cell-code}\npca = PCA(n_components=4)\npca.fit(X)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<style>#sk-container-id-1 {\n  /* Definition of color scheme common for light and dark mode */\n  --sklearn-color-text: black;\n  --sklearn-color-line: gray;\n  /* Definition of color scheme for unfitted estimators */\n  --sklearn-color-unfitted-level-0: #fff5e6;\n  --sklearn-color-unfitted-level-1: #f6e4d2;\n  --sklearn-color-unfitted-level-2: #ffe0b3;\n  --sklearn-color-unfitted-level-3: chocolate;\n  /* Definition of color scheme for fitted estimators */\n  --sklearn-color-fitted-level-0: #f0f8ff;\n  --sklearn-color-fitted-level-1: #d4ebff;\n  --sklearn-color-fitted-level-2: #b3dbfd;\n  --sklearn-color-fitted-level-3: cornflowerblue;\n\n  /* Specific color for light theme */\n  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));\n  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));\n  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));\n  --sklearn-color-icon: #696969;\n\n  @media (prefers-color-scheme: dark) {\n    /* Redefinition of color scheme for dark theme */\n    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));\n    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));\n    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));\n    --sklearn-color-icon: #878787;\n  }\n}\n\n#sk-container-id-1 {\n  color: var(--sklearn-color-text);\n}\n\n#sk-container-id-1 pre {\n  padding: 0;\n}\n\n#sk-container-id-1 input.sk-hidden--visually {\n  border: 0;\n  clip: rect(1px 1px 1px 1px);\n  clip: rect(1px, 1px, 1px, 1px);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n#sk-container-id-1 div.sk-dashed-wrapped {\n  border: 1px dashed var(--sklearn-color-line);\n  margin: 0 0.4em 0.5em 0.4em;\n  box-sizing: border-box;\n  padding-bottom: 0.4em;\n  background-color: var(--sklearn-color-background);\n}\n\n#sk-container-id-1 div.sk-container {\n  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`\n     but bootstrap.min.css set `[hidden] { display: none !important; }`\n     so we also need the `!important` here to be able to override the\n     default hidden behavior on the sphinx rendered scikit-learn.org.\n     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */\n  display: inline-block !important;\n  position: relative;\n}\n\n#sk-container-id-1 div.sk-text-repr-fallback {\n  display: none;\n}\n\ndiv.sk-parallel-item,\ndiv.sk-serial,\ndiv.sk-item {\n  /* draw centered vertical line to link estimators */\n  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));\n  background-size: 2px 100%;\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n\n/* Parallel-specific style estimator block */\n\n#sk-container-id-1 div.sk-parallel-item::after {\n  content: \"\";\n  width: 100%;\n  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);\n  flex-grow: 1;\n}\n\n#sk-container-id-1 div.sk-parallel {\n  display: flex;\n  align-items: stretch;\n  justify-content: center;\n  background-color: var(--sklearn-color-background);\n  position: relative;\n}\n\n#sk-container-id-1 div.sk-parallel-item {\n  display: flex;\n  flex-direction: column;\n}\n\n#sk-container-id-1 div.sk-parallel-item:first-child::after {\n  align-self: flex-end;\n  width: 50%;\n}\n\n#sk-container-id-1 div.sk-parallel-item:last-child::after {\n  align-self: flex-start;\n  width: 50%;\n}\n\n#sk-container-id-1 div.sk-parallel-item:only-child::after {\n  width: 0;\n}\n\n/* Serial-specific style estimator block */\n\n#sk-container-id-1 div.sk-serial {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: var(--sklearn-color-background);\n  padding-right: 1em;\n  padding-left: 1em;\n}\n\n\n/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is\nclickable and can be expanded/collapsed.\n- Pipeline and ColumnTransformer use this feature and define the default style\n- Estimators will overwrite some part of the style using the `sk-estimator` class\n*/\n\n/* Pipeline and ColumnTransformer style (default) */\n\n#sk-container-id-1 div.sk-toggleable {\n  /* Default theme specific background. It is overwritten whether we have a\n  specific estimator or a Pipeline/ColumnTransformer */\n  background-color: var(--sklearn-color-background);\n}\n\n/* Toggleable label */\n#sk-container-id-1 label.sk-toggleable__label {\n  cursor: pointer;\n  display: block;\n  width: 100%;\n  margin-bottom: 0;\n  padding: 0.5em;\n  box-sizing: border-box;\n  text-align: center;\n}\n\n#sk-container-id-1 label.sk-toggleable__label-arrow:before {\n  /* Arrow on the left of the label */\n  content: \"▸\";\n  float: left;\n  margin-right: 0.25em;\n  color: var(--sklearn-color-icon);\n}\n\n#sk-container-id-1 label.sk-toggleable__label-arrow:hover:before {\n  color: var(--sklearn-color-text);\n}\n\n/* Toggleable content - dropdown */\n\n#sk-container-id-1 div.sk-toggleable__content {\n  max-height: 0;\n  max-width: 0;\n  overflow: hidden;\n  text-align: left;\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-0);\n}\n\n#sk-container-id-1 div.sk-toggleable__content.fitted {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-0);\n}\n\n#sk-container-id-1 div.sk-toggleable__content pre {\n  margin: 0.2em;\n  border-radius: 0.25em;\n  color: var(--sklearn-color-text);\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-0);\n}\n\n#sk-container-id-1 div.sk-toggleable__content.fitted pre {\n  /* unfitted */\n  background-color: var(--sklearn-color-fitted-level-0);\n}\n\n#sk-container-id-1 input.sk-toggleable__control:checked~div.sk-toggleable__content {\n  /* Expand drop-down */\n  max-height: 200px;\n  max-width: 100%;\n  overflow: auto;\n}\n\n#sk-container-id-1 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {\n  content: \"▾\";\n}\n\n/* Pipeline/ColumnTransformer-specific style */\n\n#sk-container-id-1 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {\n  color: var(--sklearn-color-text);\n  background-color: var(--sklearn-color-unfitted-level-2);\n}\n\n#sk-container-id-1 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {\n  background-color: var(--sklearn-color-fitted-level-2);\n}\n\n/* Estimator-specific style */\n\n/* Colorize estimator box */\n#sk-container-id-1 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-2);\n}\n\n#sk-container-id-1 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-2);\n}\n\n#sk-container-id-1 div.sk-label label.sk-toggleable__label,\n#sk-container-id-1 div.sk-label label {\n  /* The background is the default theme color */\n  color: var(--sklearn-color-text-on-default-background);\n}\n\n/* On hover, darken the color of the background */\n#sk-container-id-1 div.sk-label:hover label.sk-toggleable__label {\n  color: var(--sklearn-color-text);\n  background-color: var(--sklearn-color-unfitted-level-2);\n}\n\n/* Label box, darken color on hover, fitted */\n#sk-container-id-1 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {\n  color: var(--sklearn-color-text);\n  background-color: var(--sklearn-color-fitted-level-2);\n}\n\n/* Estimator label */\n\n#sk-container-id-1 div.sk-label label {\n  font-family: monospace;\n  font-weight: bold;\n  display: inline-block;\n  line-height: 1.2em;\n}\n\n#sk-container-id-1 div.sk-label-container {\n  text-align: center;\n}\n\n/* Estimator-specific */\n#sk-container-id-1 div.sk-estimator {\n  font-family: monospace;\n  border: 1px dotted var(--sklearn-color-border-box);\n  border-radius: 0.25em;\n  box-sizing: border-box;\n  margin-bottom: 0.5em;\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-0);\n}\n\n#sk-container-id-1 div.sk-estimator.fitted {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-0);\n}\n\n/* on hover */\n#sk-container-id-1 div.sk-estimator:hover {\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-2);\n}\n\n#sk-container-id-1 div.sk-estimator.fitted:hover {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-2);\n}\n\n/* Specification for estimator info (e.g. \"i\" and \"?\") */\n\n/* Common style for \"i\" and \"?\" */\n\n.sk-estimator-doc-link,\na:link.sk-estimator-doc-link,\na:visited.sk-estimator-doc-link {\n  float: right;\n  font-size: smaller;\n  line-height: 1em;\n  font-family: monospace;\n  background-color: var(--sklearn-color-background);\n  border-radius: 1em;\n  height: 1em;\n  width: 1em;\n  text-decoration: none !important;\n  margin-left: 1ex;\n  /* unfitted */\n  border: var(--sklearn-color-unfitted-level-1) 1pt solid;\n  color: var(--sklearn-color-unfitted-level-1);\n}\n\n.sk-estimator-doc-link.fitted,\na:link.sk-estimator-doc-link.fitted,\na:visited.sk-estimator-doc-link.fitted {\n  /* fitted */\n  border: var(--sklearn-color-fitted-level-1) 1pt solid;\n  color: var(--sklearn-color-fitted-level-1);\n}\n\n/* On hover */\ndiv.sk-estimator:hover .sk-estimator-doc-link:hover,\n.sk-estimator-doc-link:hover,\ndiv.sk-label-container:hover .sk-estimator-doc-link:hover,\n.sk-estimator-doc-link:hover {\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-3);\n  color: var(--sklearn-color-background);\n  text-decoration: none;\n}\n\ndiv.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,\n.sk-estimator-doc-link.fitted:hover,\ndiv.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,\n.sk-estimator-doc-link.fitted:hover {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-3);\n  color: var(--sklearn-color-background);\n  text-decoration: none;\n}\n\n/* Span, style for the box shown on hovering the info icon */\n.sk-estimator-doc-link span {\n  display: none;\n  z-index: 9999;\n  position: relative;\n  font-weight: normal;\n  right: .2ex;\n  padding: .5ex;\n  margin: .5ex;\n  width: min-content;\n  min-width: 20ex;\n  max-width: 50ex;\n  color: var(--sklearn-color-text);\n  box-shadow: 2pt 2pt 4pt #999;\n  /* unfitted */\n  background: var(--sklearn-color-unfitted-level-0);\n  border: .5pt solid var(--sklearn-color-unfitted-level-3);\n}\n\n.sk-estimator-doc-link.fitted span {\n  /* fitted */\n  background: var(--sklearn-color-fitted-level-0);\n  border: var(--sklearn-color-fitted-level-3);\n}\n\n.sk-estimator-doc-link:hover span {\n  display: block;\n}\n\n/* \"?\"-specific style due to the `<a>` HTML tag */\n\n#sk-container-id-1 a.estimator_doc_link {\n  float: right;\n  font-size: 1rem;\n  line-height: 1em;\n  font-family: monospace;\n  background-color: var(--sklearn-color-background);\n  border-radius: 1rem;\n  height: 1rem;\n  width: 1rem;\n  text-decoration: none;\n  /* unfitted */\n  color: var(--sklearn-color-unfitted-level-1);\n  border: var(--sklearn-color-unfitted-level-1) 1pt solid;\n}\n\n#sk-container-id-1 a.estimator_doc_link.fitted {\n  /* fitted */\n  border: var(--sklearn-color-fitted-level-1) 1pt solid;\n  color: var(--sklearn-color-fitted-level-1);\n}\n\n/* On hover */\n#sk-container-id-1 a.estimator_doc_link:hover {\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-3);\n  color: var(--sklearn-color-background);\n  text-decoration: none;\n}\n\n#sk-container-id-1 a.estimator_doc_link.fitted:hover {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-3);\n}\n</style><div id=\"sk-container-id-1\" class=\"sk-top-container\"><div class=\"sk-text-repr-fallback\"><pre>PCA(n_components=4)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class=\"sk-container\" hidden><div class=\"sk-item\"><div class=\"sk-estimator fitted sk-toggleable\"><input class=\"sk-toggleable__control sk-hidden--visually\" id=\"sk-estimator-id-1\" type=\"checkbox\" checked><label for=\"sk-estimator-id-1\" class=\"sk-toggleable__label fitted sk-toggleable__label-arrow fitted\">&nbsp;&nbsp;PCA<a class=\"sk-estimator-doc-link fitted\" rel=\"noreferrer\" target=\"_blank\" href=\"https://scikit-learn.org/1.4/modules/generated/sklearn.decomposition.PCA.html\">?<span>Documentation for PCA</span></a><span class=\"sk-estimator-doc-link fitted\">i<span>Fitted</span></span></label><div class=\"sk-toggleable__content fitted\"><pre>PCA(n_components=4)</pre></div> </div></div></div></div>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.python .cell-code}\npd.DataFrame(pca.components_.T, \n             columns=['PC1', 'PC2', 'PC3', 'PC4'],\n             index=USArr.columns)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n               PC1       PC2       PC3       PC4\nMurder    0.535899  0.418181 -0.341233  0.649228\nAssault   0.583184  0.187986 -0.268148 -0.743407\nUrbanPop  0.278191 -0.872806 -0.378016  0.133878\nRape      0.543432 -0.167319  0.817778  0.089024\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.python .cell-code}\npd.DataFrame(pca.transform(X), \n             columns=['PC1', 'PC2', 'PC3', 'PC4'], \n             index=USArr.index)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                     PC1       PC2       PC3       PC4\nrownames                                              \nAlabama         0.985566  1.133392 -0.444269  0.156267\nAlaska          1.950138  1.073213  2.040003 -0.438583\nArizona         1.763164 -0.745957  0.054781 -0.834653\nArkansas       -0.141420  1.119797  0.114574 -0.182811\nCalifornia      2.523980 -1.542934  0.598557 -0.341996\nColorado        1.514563 -0.987555  1.095007  0.001465\nConnecticut    -1.358647 -1.088928 -0.643258 -0.118469\nDelaware        0.047709 -0.325359 -0.718633 -0.881978\nFlorida         3.013042  0.039229 -0.576829 -0.096285\nGeorgia         1.639283  1.278942 -0.342460  1.076797\nHawaii         -0.912657 -1.570460  0.050782  0.902807\nIdaho          -1.639800  0.210973  0.259801 -0.499104\nIllinois        1.378911 -0.681841 -0.677496 -0.122021\nIndiana        -0.505461 -0.151563  0.228055  0.424666\nIowa           -2.253646 -0.104054  0.164564  0.017556\nKansas         -0.796881 -0.270165  0.025553  0.206496\nKentucky       -0.750859  0.958440 -0.028369  0.670557\nLouisiana       1.564818  0.871055 -0.783480  0.454728\nMaine          -2.396829  0.376392 -0.065682 -0.330460\nMaryland        1.763369  0.427655 -0.157250 -0.559070\nMassachusetts  -0.486166 -1.474496 -0.609497 -0.179599\nMichigan        2.108441 -0.155397  0.384869  0.102372\nMinnesota      -1.692682 -0.632261  0.153070  0.067317\nMississippi     0.996494  2.393796 -0.740808  0.215508\nMissouri        0.696787 -0.263355  0.377444  0.225824\nMontana        -1.185452  0.536874  0.246889  0.123742\nNebraska       -1.265637 -0.193954  0.175574  0.015893\nNevada          2.874395 -0.775600  1.163380  0.314515\nNew Hampshire  -2.383915 -0.018082  0.036855 -0.033137\nNew Jersey      0.181566 -1.449506 -0.764454  0.243383\nNew Mexico      1.980024  0.142849  0.183692 -0.339534\nNew York        1.682577 -0.823184 -0.643075 -0.013484\nNorth Carolina  1.123379  2.228003 -0.863572 -0.954382\nNorth Dakota   -2.992226  0.599119  0.301277 -0.253987\nOhio           -0.225965 -0.742238 -0.031139  0.473916\nOklahoma       -0.311783 -0.287854 -0.015310  0.010332\nOregon          0.059122 -0.541411  0.939833 -0.237781\nPennsylvania   -0.888416 -0.571100 -0.400629  0.359061\nRhode Island   -0.863772 -1.491978 -1.369946 -0.613569\nSouth Carolina  1.320724  1.933405 -0.300538 -0.131467\nSouth Dakota   -1.987775  0.823343  0.389293 -0.109572\nTennessee       0.999742  0.860251  0.188083  0.652864\nTexas           1.355138 -0.412481 -0.492069  0.643195\nUtah           -0.550565 -1.471505  0.293728 -0.082314\nVermont        -2.801412  1.402288  0.841263 -0.144890\nVirginia       -0.096335  0.199735  0.011713  0.211371\nWashington     -0.216903 -0.970124  0.624871 -0.220848\nWest Virginia  -2.108585  1.424847  0.104775  0.131909\nWisconsin      -2.079714 -0.611269 -0.138865  0.184104\nWyoming        -0.629427  0.321013 -0.240659 -0.166652\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.python .cell-code}\npca.explained_variance_\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\narray([2.53085875, 1.00996444, 0.36383998, 0.17696948])\n```\n\n\n:::\n:::\n",
    "supporting": [
      "15-pca-code_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}